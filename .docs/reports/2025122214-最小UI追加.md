# 実装報告書: 最小 UI 追加

作成日時: 2025-12-22 14:23
参照コーディング計画: `2025122117-実装順序見直し.md`

## 実装内容の概要

- eframe/egui を導入し、最小 UI（単一ウィンドウ）を追加した
- 起動引数なしの場合に UI を起動し、コマンド名入力で実行できるようにした
- 既存の簡易 CLI（paths/run-first/run）は維持した

## 実装した機能

- 最小 UI（コマンド選択と実行）の最小要件
  - 入力ができるコマンド領域
  - 入力文字列を Enter で実行
  - 入力文字列が CommandSpec.name に一致する場合は runner 経由で実行
  - 一致しない場合は UI 上にエラーを表示
  - 設定読み込み失敗や起動失敗を UI 上に表示
- コマンド実行方式
  - 既存の runner::spawn_command を利用し、UI スレッドをブロックしない形で起動

## 変更点

- Cargo.toml
  - eframe を依存関係に追加した
- src/ui.rs
  - UI 本体を追加した
  - 設定（setting.yaml/env.yaml）を読み込み、入力された name に一致するコマンドを実行する
  - eframe::run_native のエラーは anyhow::Error に変換して扱う
- src/main.rs
  - 引数なしの場合に UI を起動するようにした

## 動作確認

- cargo check が通ることを確認した

## コーディング計画との差異

- コーディング計画の手順 3 の範囲として、最小 UI の枠組みまで実装した
- 見た目の調整、コマンド一覧表示、補完などは本報告の対象外とした
- 手順 4（グローバルホットキー）、手順 5（フルスクリーン検知）、手順 6（常駐とタスクトレイ）は未着手
